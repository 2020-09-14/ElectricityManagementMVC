
@{
    ViewData["Title"] = "Gai";
    Layout = null;
}

<html>
<head>
    <meta charset="utf-8">
    <title>Layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="~/VUE/layui-v2.5.6/layui/css/layui.css" rel="stylesheet" />
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>
    <div style="background-color:aliceblue;width:500px;height:400px">

        <form class="layui-form" action="">
            <div class="layui-form-item" style="width:320px;">
                <label class="layui-form-label" style="width:100px"><span class="layui-badge-dot"></span>分类名称</label>
                <div class="layui-input-block">
                    <input id="txtName" name="title" class="layui-input" type="text" placeholder="请输入名称" autocomplete="off" lay-verify="title">
                </div>
            </div>

            <div class="layui-form-item" style="width:320px;">
                <label class="layui-form-label" style="width:100px"><span class="layui-badge-dot"></span>分类排序</label>
                <div class="layui-input-block">
                    <input id="txtPai" name="title" class="layui-input" type="text" placeholder="请输入排序" autocomplete="off" lay-verify="title">
                </div>
            </div>

            <div class="layui-form-item">
                <label style="width:110px;font-size:15px" class="layui-form-label">当前状态</label>
                <div class="layui-input-block">
                    <input name="close" type="checkbox" lay-skin="switch" lay-text="ON|OFF">
                </div>
            </div>

            <div style="margin-left:110px;margin-top:30px">
                <button id="Add" class="layui-btn layui-btn-normal" type="button">提交</button>
                <button id="Quxiao" class="layui-btn layui-btn-normal" type="button">取消</button>
            </div>
        </form>
    </div>
    <!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
    <script src="~/VUE/layui-v2.5.6/layui/layui.js"></script>
    <script src="~/新建文件夹/js/jquery.min.js"></script>
    <script>


        layui.use('form', function () {

            var form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功



            form.render();

        });

        $("#Add").click(function () {

       
          
            if ($("input[type='checkbox']").is(':checked') == true)
            {
             
                var obj = {
                    "CName": $("#txtName").val(),
                    "Cnumber": parseInt($("#txtPai").val()),
                    "CState": true
                };
            } else {
               
                var obj = {
                    "CName": $("#txtName").val(),
                    "Cnumber": parseInt($("#txtPai").val()),
                    "CState": false
                };
               
            }
            var cc = JSON.stringify(obj);
            console.log(cc);
            $.ajax({
                url: 'http://localhost:2789/api/LeiAddAsync',
                type: 'post',
                dataType: 'json',
                data: cc,
                contentType:"application/json",
                success: function (d) {
                    if (d > 0) {
                        alert('添加成功');
                    }
                }
            })

        })


    </script>

</body>
</html>

